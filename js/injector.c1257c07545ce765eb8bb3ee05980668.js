var NexT=window.NexT||{},CONFIG={root:"/"};HTMLElement.prototype.outerHeight=function(e){var t=this.offsetHeight;if(!e)return t;var n=window.getComputedStyle(this);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},HTMLElement.prototype.css=function(e){Object.assign(this.style,e)},HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this),this.parentNode.removeChild(this),e.appendChild(this)},NexT.utils=NexT.$u={registerActiveMenuItem:function(){document.querySelectorAll(".menu .menu-item").forEach(e=>{var t=e.querySelector("a[href]"),n=t.pathname===location.pathname||t.pathname===location.pathname.replace("index.html",""),o=t.pathname!==CONFIG.root&&0===location.pathname.indexOf(t.pathname);t.hostname===location.hostname&&(n||o)&&e.classList.add("menu-item-active")}),document.querySelectorAll("#sub-menu .menu-item").forEach(e=>{var t=e.querySelector("a[href]"),n=t.pathname===location.pathname||t.pathname===location.pathname.replace("index.html","");t.hostname===location.hostname&&n&&e.classList.add("menu-item-active")})},registerSidebarTOC:function(){const e=document.querySelectorAll(".post-toc li"),t=[...e].map(e=>{var t=e.querySelector("a.nav-link");return t.addEventListener("click",e=>{e.preventDefault();var t=document.getElementById(e.currentTarget.getAttribute("href").replace("#","")).getBoundingClientRect().top+window.scrollY+1;window.scroll({top:t,behavior:"smooth"})}),document.getElementById(t.getAttribute("href").replace("#",""))});var n=document.querySelector(".post-toc-wrap");!function o(r){r=Math.floor(r+1e4);let a=new IntersectionObserver((a,i)=>{let c=document.documentElement.scrollHeight+100;if(c>r)return i.disconnect(),void o(c);let s=function(e){let n=0,o=e[n];if(o.boundingClientRect.top>0)return n=t.indexOf(o.target),0===n?0:n-1;for(;n<e.length;n++){if(!(e[n].boundingClientRect.top<=0))return t.indexOf(o.target);o=e[n]}return t.indexOf(o.target)}(a);!function(e){if(!e.classList.contains("active-current")){document.querySelectorAll(".post-toc .active").forEach(e=>{e.classList.remove("active","active-current")}),e.classList.add("active","active-current");for(var t=e.parentNode;!t.matches(".post-toc");)t.matches("li")&&t.classList.add("active"),t=t.parentNode;n.scroll({top:n.scrollTop-n.offsetHeight/2+e.getBoundingClientRect().top-n.getBoundingClientRect().top,behavior:"smooth"})}}(e[s])},{rootMargin:r+"px 0px -100% 0px",threshold:0});t.forEach(e=>a.observe(e))}(document.documentElement.scrollHeight)},wrapTableWithBox:function(){document.querySelectorAll("table").forEach(e=>{const t=document.createElement("div");t.className="table-container",e.wrap(t)})},loadComments:function(e,t){let n=new IntersectionObserver((e,n)=>{e[0].isIntersecting&&(t(),n.disconnect())});return n.observe(e),n}},NexT.boot={},NexT.boot.registerEvents=function(){document.querySelector(".site-nav-toggle button").addEventListener("click",()=>{document.querySelector(".site-nav").classList.toggle("site-nav-on")}),document.querySelectorAll(".sidebar-nav li").forEach((e,t)=>{e.addEventListener("click",e=>{var n=e.currentTarget;if(!n.classList.contains("sidebar-nav-active")){var o=document.querySelectorAll(".sidebar-panel"),r=o[t];o[1-t].classList.remove("sidebar-panel-active"),r.classList.add("sidebar-panel-active"),[...n.parentNode.children].forEach(e=>{e.classList.remove("sidebar-nav-active")}),n.classList.add("sidebar-nav-active")}})}),window.addEventListener("hashchange",()=>{var e=location.hash;if(""!==e&&!e.match(/%\S{2}/)){var t=document.querySelector(`.tabs ul.nav-tabs li a[href="${e}"]`);t&&t.click()}})},NexT.boot.refresh=function(){NexT.utils.registerActiveMenuItem(),NexT.utils.registerSidebarTOC(),NexT.utils.wrapTableWithBox()},window.addEventListener("DOMContentLoaded",()=>{NexT.boot.registerEvents(),NexT.boot.refresh()});